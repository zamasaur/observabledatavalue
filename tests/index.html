<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
</head>

<body>
	<script type="module">
		import { ObservableDataValue } from "../src/ObservableDataValue.js"

		document.addEventListener("DOMContentLoaded", () => {

			var dataValue = new ObservableDataValue(1);

			function myFunction(event){
				console.log(event.target.value);
			}

			dataValue.addEventListener("change", (event) => {
				myFunction(event)
			}, { once: true });

			dataValue.value = 2;
			dataValue.value = 3;
			dataValue.value = 4;

			dataValue.addEventListener("change", (event) => {
				myFunction(event)
			});

			dataValue.value = 5;
			dataValue.value = 6;
			dataValue.value = 7;

			dataValue.removeEventListener("change", (event) => {
				myFunction(event)
			});

			dataValue.value = 8;
			dataValue.value = 9;
			dataValue.value = 10;

		});
	</script>
</body>

</html>